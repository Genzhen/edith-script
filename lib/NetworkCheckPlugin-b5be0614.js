import"core-js/modules/es.array.concat";import"core-js/modules/es.function.bind";import"core-js/modules/es.function.name";import{a as e,t as s,m as o,l as t,n as r,k as i,o as a}from"./index-9bbb6d1a.js";import"core-js/modules/es.array.filter";import"core-js/modules/es.array.for-each";import"core-js/modules/es.array.map";import"core-js/modules/es.object.to-string";import"core-js/modules/es.promise";import"core-js/modules/es.regexp.exec";import"core-js/modules/es.string.match";import"core-js/modules/es.string.link";import"core-js/modules/web.dom-collections.for-each";import"core-js/modules/es.array.find";import"core-js/modules/es.array.index-of";import"core-js/modules/es.array.iterator";import"core-js/modules/es.array.reduce";import"core-js/modules/es.array.slice";import"core-js/modules/es.date.to-string";import"core-js/modules/es.object.get-prototype-of";import"core-js/modules/es.object.keys";import"core-js/modules/es.string.iterator";import"core-js/modules/es.string.replace";import"core-js/modules/es.string.split";import"core-js/modules/web.dom-collections.iterator";import"core-js/modules/es.object.values";import"core-js/modules/es.symbol";import"core-js/modules/es.symbol.description";var m=function(){function m(){i(this,m),this.name="network",this.state={speed:-1,delays:-1,netWorkType:a()},this.speeds=[],this.delays=[]}return e(m,[{key:"checkNetSpeed",value:function(){var e=this,t=s();if(t)return this.speeds.push(t);o((function(s){return e.speeds.push(s)}),3)}},{key:"checkDelay",value:function(){var e=this;t((function(s){return e.delays.push(s)}),5)}},{key:"startCheck",value:function(){var e=window.requestIdleCallback;if(!e)return setTimeout(this.checkDelay.bind(this),6e3*Math.random()+500),setTimeout(this.checkNetSpeed.bind(this),7e3*Math.random()+500);var s=[this.checkDelay.bind(this),this.checkNetSpeed.bind(this)];e((function o(t){for(;(t.timeRemaining()>0||t.didTimeout)&&s.length>0;)s.shift()();s.length>0&&e(o)}),{timeout:2e3})}},{key:"apply",value:function(e){var s=this;e(s.name,(function(e,o){e.state[s.name]||s.startCheck.apply(s);var t=s.state.netWorkType;o({speed:r(s.speeds),delay:r(s.delays),netWorkType:t})}))}}]),m}();window.Edith||(window.Edith={}),window.Edith.NetworkCheckPlugin=m;export default m;
