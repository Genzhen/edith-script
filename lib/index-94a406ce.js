import"core-js/modules/es.array.concat";import"core-js/modules/es.date.to-string";import"core-js/modules/es.function.bind";import"core-js/modules/es.function.name";import"core-js/modules/es.object.to-string";import"core-js/modules/es.regexp.to-string";import"core-js/modules/es.array.filter";import"core-js/modules/es.array.for-each";import"core-js/modules/es.array.map";import"core-js/modules/es.promise";import"core-js/modules/es.regexp.exec";import"core-js/modules/es.string.match";import"core-js/modules/es.string.link";import"core-js/modules/web.dom-collections.for-each";import"core-js/modules/es.array.find";import"core-js/modules/es.array.index-of";import"core-js/modules/es.array.iterator";import"core-js/modules/es.array.reduce";import"core-js/modules/es.array.slice";import"core-js/modules/es.object.get-prototype-of";import"core-js/modules/es.object.keys";import"core-js/modules/es.regexp.constructor";import"core-js/modules/es.string.iterator";import"core-js/modules/es.string.replace";import"core-js/modules/es.string.split";import"core-js/modules/web.dom-collections.iterator";import"core-js/modules/es.symbol";import"core-js/modules/es.symbol.description";function t(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var e=t((function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),n=t((function(t){var e=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=e)})),r=function(t){return"object"==typeof t?null!==t:"function"==typeof t},o=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t},i=function(t){try{return!!t()}catch(t){return!0}},a=!i((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),c=e.document,s=r(c)&&r(c.createElement),u=!a&&!i((function(){return 7!=Object.defineProperty((t="div",s?c.createElement(t):{}),"a",{get:function(){return 7}}).a;var t})),l=Object.defineProperty,f={f:a?Object.defineProperty:function(t,e,n){if(o(t),e=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}(e,!0),o(n),u)try{return l(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},p=a?function(t,e,n){return f.f(t,e,function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}(1,n))}:function(t,e,n){return t[e]=n,t},d={}.hasOwnProperty,h=function(t,e){return d.call(t,e)},m=0,y=Math.random(),v=t((function(t){var r=e["__core-js_shared__"]||(e["__core-js_shared__"]={});(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}))("native-function-to-string",Function.toString),g=t((function(t){var r,o="Symbol(".concat(void 0===(r="src")?"":r,")_",(++m+y).toString(36)),i=(""+v).split("toString");n.inspectSource=function(t){return v.call(t)},(t.exports=function(t,n,r,a){var c="function"==typeof r;c&&(h(r,"name")||p(r,"name",n)),t[n]!==r&&(c&&(h(r,o)||p(r,o,t[n]?""+t[n]:i.join(String(n)))),t===e?t[n]=r:a?t[n]?t[n]=r:p(t,n,r):(delete t[n],p(t,n,r)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[o]||v.call(this)}))})),b=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},w=function(t,r,o){var i,a,c,s,u=t&w.F,l=t&w.G,f=t&w.S,d=t&w.P,h=t&w.B,m=l?e:f?e[r]||(e[r]={}):(e[r]||{}).prototype,y=l?n:n[r]||(n[r]={}),v=y.prototype||(y.prototype={});for(i in l&&(o=r),o)c=((a=!u&&m&&void 0!==m[i])?m:o)[i],s=h&&a?b(c,e):d&&"function"==typeof c?b(Function.call,c):c,m&&g(m,i,c,t&w.U),y[i]!=c&&p(y,i,s),d&&v[i]!=c&&(v[i]=c)};e.core=n,w.F=1,w.G=2,w.S=4,w.P=8,w.B=16,w.W=32,w.U=64,w.R=128;var j=w,E=e.navigator,S=E&&E.userAgent||"",k=[].slice,_=/MSIE .\./.test(S),O=function(t){return function(e,n){var r=arguments.length>2,o=!!r&&k.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,o)}:e,n)}};function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L(t,e,n){return e&&x(t.prototype,e),n&&x(t,n),t}function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function N(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){M(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function R(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=C(t);if(e){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}function H(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||D(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(t){return function(t){if(Array.isArray(t))return W(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||D(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(t,e){if(t){if("string"==typeof t)return W(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(t,e):void 0}}function W(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}j(j.G+j.B+j.F*_,{setTimeout:O(e.setTimeout),setInterval:O(e.setInterval)});var F=window.performance,U=function(t,e){var n,r,o="";for(n in t)r=t[n],o+=n+"="+("function"==typeof e?e(r,n):r&&"object"===T(r)&&!Object.getPrototypeOf(r).slice?JSON.stringify(r):r)+"&";return o.slice(0,-1)},q=function(t){return t?t===document?"html":t.tagName?t.tagName:t.outerHTML.match(/<([^>\s]+)/)[1]:""},G=(navigator.userAgent.match(/[^(\s]+(\s\([^)]+\))?/g),function(){var t=navigator,e="connection",n="downlink";if(t[e]&&t[e][n])return 1024*t[e][n]/8}),J=function(){var t=navigator,e="connection",n="effectiveType";return t[e]&&t[e][n]?t[e][n]:""},X=function(t,e){!function n(r){var o=nt();Mt({t:Math.random()}).then((function(i){var a=i.length/((nt()-o)/1e3)/1024;t&&r&&t(Math.floor(a)),r>=e||n(++r)})).catch((function(t){}))}(0)},K=function(t){if(t){["preventDefault","stopPropagation"].forEach((function(e){return t[e]&&t[e]()})),t.cancelBubble=!0}},z=function(t,e){e=e||1;var n=0,r="https://hm.baidu.com/hm.gif?",o=new Image;o.onerror=Q(K),o.onload=function o(){var i=nt(),a=new Image;a.onload=function(){var r=nt()-i;n++,t(r),n<e&&setTimeout(o,1e3)},a.src=r+Math.random(),a.onerror=Q(K)},o.src=r+Math.random()},Q=function(t){return function(){try{for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(this,n)}catch(t){console.warn("edith 内部报错",t)}}},V=function(t,e,n){addEventListener?addEventListener(t,Q(e),n):attachEvent&&attachEvent("on".concat(t),Q(e))},Y=function(){return(""+nt()*Math.random()).slice(0,8)},Z=function t(e){var n=e.parentNode;if(n===document)return"/html";var r=q(e).toLowerCase();if(e===document.body)return"/html/".concat(r);for(var o=0,i=n.childNodes,a=0;a<i.length;a++){var c=i[a];if(c===e)return"".concat(t(n),"/").concat(r,"[").concat(o+1,"]");1===c.nodeType&&c.tagName===r&&o++}},tt=function(){var t=navigator.userAgent.toLowerCase();return(t.indexOf("msie")>-1?t.match(/msie ([\d.]+)/)[1]:100)<=8}(),et=function(t){var e=t.outerHTML;return e.length>200&&(e=e.substr(0,100)+"... ..."+e.substr(-99)),e},nt=function(){return(new Date).getTime()},rt=function(t){return t<400},ot=function(t){var e=t.reduce((function(t,e){return t+e}),0);return 0===t.length?-1:e/t.length},it=function(t){return t.replace(/^[^/]*:?\/\//,"").split("?")[0]},at=function(t,e){return t.find((function(t){return t instanceof RegExp?t.test(e):"string"==typeof t?it(t)===it(e):void 0}))},ct=F.timing&&F.timing.navigationStart||nt(),st=function(){return nt()-ct},ut=function(t){return"function"==typeof t},lt=null,ft="/",pt=function(t,e){return new Promise((function(n,r){t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status){var e={};try{e=JSON.parse(t.responseText)}catch(n){e=t.responseText}n(e)}else t.status>399&&r(t.responseText)},e()}))},dt=function(t){ft=t},ht=function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return lt=new XMLHttpRequest,pt(lt,(function(){lt.open("GET","".concat(ft).concat(t,"?").concat(U(e)),!0),lt.send()}))}},mt=function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};lt=new XMLHttpRequest;var n=function(){lt.open("POST","".concat(ft).concat(t),!0),lt.setRequestHeader("Content-type","application/json;charset=utf-8"),lt.send(JSON.stringify(e))};n()}},yt="https://event-edith.op-center.cn",vt=["".concat(yt,"/v1/monitor/add"),"".concat(yt,"/v1/upload/test-img")],gt="INIT",bt="WILL_MOUNT",wt="DID_MOUNT",jt="CHECK_SELF",Et="INSTALL_PLUGIN",St="LISTENING",kt="COLLECTING",_t="SLEEP",Ot={breadcrumbs:function(){return import("./BreadcrumbsPlugin-fa96e84f.js")},network:function(){return import("./NetworkCheckPlugin-2fd40379.js")},redo:function(){return import("./RecordPlugin-10ec406b.js")}},Tt="//webcdn.inke.cn/edith.cn",Pt={breadcrumbs:{link:"".concat(Tt,"/plugins_","0.1.11","/BreadcrumbsPlugin.js"),name:"BreadcrumbsPlugin"},network:{link:"".concat(Tt,"/plugins_","0.1.11","/NetworkCheckPlugin.js"),name:"NetworkCheckPlugin"},redo:{link:"".concat(Tt,"/plugins_","0.1.11","/RecordPlugin.js"),name:"RecordPlugin"}},xt={ajaxWhiteList:vt,resourceWhiteList:Object.keys(Pt).map((function(t){return Pt[t].link}))};dt(yt);var Lt=mt("/v1/monitor/add"),Mt=ht("/v1/upload/test-img"),It=["resourceWhiteList","ajaxWhiteList"],Nt=function(){function t(){var e=this;P(this,t),this.state={},this.life="",this._waitPromise=function(t){window.Promise||V("promisePolyfill",(function(){return e.init(t)}))}}return L(t,[{key:"$life",value:function(t){this.life=t}},{key:"init",value:function(t){var e=this;if(this.life)return console.warn("只需要初始化一次");if(!this._waitPromise(t)){var n=t||{},r=n.apiKey,o=n.silentDev;if(!t||!r)return console.warn("请传入项目的apiKey");this.$life(gt),this.setState({api_key:r}),o&&location.host.match(/^localhost|^\d+\.\d+\./)&&(this.notListening=!0),this._willMount(t),this._didMount(this.state),this._checkSelf().then((function(){e.$life(Et),e._installPlugins().then((function(){e._collecting(),e.initSate=N({},e.state),ut(e.pluginInstalled)&&e.pluginInstalled(),e.$life(St)}))})).catch((function(){return e._sleep()}))}}},{key:"setState",value:function(t,e){if(this.life!==kt||e){var n=this.state;this.state=N(N({},n),t)}}},{key:"_willMount",value:function(t){var e=this,n=t.plugins;this.$life(bt),ut(this.willMount)&&this.willMount(t),this.plugins=n instanceof Array?n.filter(Boolean):[],It.forEach((function(n){e[n]=[].concat(B(xt[n]),B(t[n]||[]))}))}},{key:"_didMount",value:function(){this.$life(wt),ut(this.didMount)&&this.didMount()}},{key:"_checkSelf",value:function(){var t=this;return this.$life(jt),new Promise((function(e,n){if(ut(t.checkSelf))try{t.checkSelf()}catch(t){n(t)}e()}))}},{key:"_installPlugins",value:function(){var t=this;return new Promise((function(e,n){var r,o=[];t.plugins.forEach((function(t){if("string"==typeof t){var e=Ot[t]();e&&o.push(e)}else o.push(t)})),(r=o,Promise.all(r.map((function(t){return t.catch?t.catch((function(t){return 0})):t})))).then((function(n){(n=n.map((function(t){return ut(t.default)?new t.default:t})).filter(Boolean)).forEach((function(e){It.forEach((function(n){t[n]=[].concat(B(t[n]),B(e[n]||[]))}))})),t.plugins=n,e()}))}))}},{key:"compilerCallback",value:function(t,e){this.setState(M({},t,e),!0)}},{key:"compiler",value:function(t,e){var n=this.compilerCallback,r=this;e(this,(function(e){n.call(r,t,e)}))}},{key:"_collecting",value:function(){var t=this;this.plugins.forEach((function(e){if(!e.apply)return console.warn("Edith插件[".concat(e.constructor.name,"]必须实现apply方法"));try{e.apply(t.compiler.bind(t))}catch(t){console.log(t)}})),ut(this.collecting)&&this.collecting()}},{key:"_sleep",value:function(){this.$life(_t),this.$life=function(){},ut(this.sleep)&&this.sleep(),this.$handleCollect=function(){}}},{key:"$handleCollect",value:function(){var t=this;this.life===St&&(this.$life(kt),setTimeout((function(){t._collecting();var e=N({},t.state),n={name:e.name,message:e.message,url:e.url,title:e.title,ajax:e.extraInfo||{},target:e.target||{}};t.filters&&t.filters(n)&&"customError"!==e.type||Lt(e),t.state=t.initSate,t.$life(St)}),0))}}]),t}(),Ct=navigator.userAgent,At=document.referrer,Rt=function(t){window.dispatchEvent(new CustomEvent(t,{detail:this}))},$t=function(t){return{type:t._type||t.type,name:(t.name||t.message&&t.message.split(":")[0]||t.type).replace(/^Uncaught\s/,""),message:t.message||t.description||"",extraInfo:t.extraInfo||null,stacktrace:t.error&&t.error.stack,target:t._target,timeStamp:t.timeStamp,title:document.title,referrer:At,url:location.href,userAgent:Ct,columnNumber:t.colno,lineNumber:t.lineno}};function Ht(){var t,e,n,r;!function(){if(ut(t))return!1;function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}t.prototype=Event.prototype,window.CustomEvent=t}(),t={abort:"ajaxAbort",error:"ajaxError",progress:"ajaxProgress",timeout:"ajaxTimeout",loadend:"ajaxLoadEnd"},e=window.XMLHttpRequest,n=["error","timeout","abort"],window.XMLHttpRequest=function(){var r=new e,o=!1;Object.keys(t).forEach((function(e){r.addEventListener(e,(function(r){Rt.call(this,t[e]),o||(o=n.indexOf(e)>=0),"loadend"===e&&(rt(this.status)||o||Rt.call(this,t.error))}),!1)}));var i=r.send;r.send=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];i.apply(r,e),r.body=e[0]};var a=r.open;return r.open=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];r.method=e[0],r.originUrl=e[1],r.async=e[2],r.startTime=nt(),r.endTime=nt(),Rt.call(r,"ajaxOpen"),a.apply(r,e)},r},(r=window.fetch)&&(window.fetch=function(t,e){var n=nt(),o={startTime:n,endTime:n,timeStamp:n,status:0,body:null,statusText:"",_eid:Y()};if(window.Request&&t instanceof window.Request){var i=t.url,a=t.method,c=t.body;o=N(N({},o),{},{originUrl:i,method:a,body:c})}else o=N(N({url:t,method:"GET",originUrl:t},o),e);return Rt.call({options:o},"fetchStart"),r.apply(this,[t,e]).then((function(t){return t.options=o,rt(t.status)||Rt.call({options:o},"fetchError"),Rt.call({options:o},"fetchEnd"),t}),(function(t){t.options=o,Rt.call({options:o},"fetchError")}))})}!function(){var t=this;window.Promise||function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=document.createElement("script");r.src=t,r.onload=e,r.onerror=n,document.getElementsByTagName("head")[0].appendChild(r)}("//webcdn.inke.cn/tpc/common/es6-promise/3.2.2/es6-promise.min.js",(function(){Rt.call(t,"promisePolyfill")}))}(),function(){var t=WebSocket;if(t){var e={open:"webSocketOpen",error:"webSocketError",close:"webSocketClose"};WebSocket=function(n,r){var o=new t(n,r);return Rt.call({target:o},"webSocketStart",{options:{url:n,protocol:r||""}}),Object.keys(e).forEach((function(t){o.addEventListener(t,(function(n){Rt.call(n,e[t])}),!1)})),o}}}();var Bt=new(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}(n,Nt);var e=$(n);function n(){var t;P(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).silentPromise=!1,t.silentWebsocket=!1,t.silentResource=!1,t.setHttpBody=!1,t.errorHandleFunc={webSocketError:function(t){t.name="webSocketError",t._type="webSocketError";var e=t.detail.target||t.detail.currentTarget,n=e.url,r=e.startTime,o=e.endTime,i=e.openTime;return t.extraInfo={url:n,elapsedTime:o-(i||r)},t},resourceError:function(e){if(!t.silentResource){var n=e.target,r=q(n).toLowerCase(),o="";if(o="link"===r?n.href:n.src,!at(t.resourceWhiteList,o))return e.message=o,e.name=e._type="resourceError",e._target={tagName:r,className:n.className,id:n.id,outerHTML:et(n),xPath:Z(n)},e}},ajaxError:function(e){e._type="httpError",e.name="ajaxError";var n=e.detail,r=n.method,o=n.originUrl,i=n.startTime,a=n.endTime,c=n.responseText,s=n.statusText,u=n.status;if(!at(t.ajaxWhiteList,o))return e.extraInfo={elapsedTime:a-i,responseText:c,status:u,statusText:s,method:r,url:o},t.httpBody&&(e.extraInfo.body=n.body),e},fetchError:function(e){var n=e.detail.options;if(!at(t.ajaxWhiteList,n.url))return e._type="httpError",e.name=e.message="fetchError",e.error=e.detail,e.extraInfo=N({elapsedTime:n.endTime-n.startTime},n),t.httpBody||delete e.extraInfo.body,e},error:function(e){return e.target!==window?t.errorHandleFunc.resourceError(e):e}},t}return L(n,[{key:"willMount",value:function(t){for(var e in t)void 0!==t[e]&&(this[e]=t[e])}},{key:"didMount",value:function(){Ht()}},{key:"checkSelf",value:function(){this.handleError({type:"error",target:window}),this.handleError({type:"error",target:{src:"",tagName:"a",outerHTML:"",parentNode:document}}),this.handleError({type:"ajaxError",detail:{originUrl:""}}),this.handleError({type:"fetchError",detail:{options:{url:""}}})}},{key:"pluginInstalled",value:function(){this.notListening||(V("error",this.handleError.bind(this),!0),this.silentPromise||V("unhandledrejection",this.handlePromise.bind(this)),V("ajaxError",this.handleError.bind(this)),V("ajaxTimeout",this.handleError.bind(this)),V("fetchError",this.handleError.bind(this)),this.silentWebsocket||V("webSocketError",this.handleError.bind(this)))}},{key:"handleError",value:function(t){if(t=this.errorHandleFunc[t.type](t)){var e=$t(t);this.life===St&&(this.setState(N(N({},this.state),e)),this.$handleCollect())}}},{key:"handlePromise",value:function(t,e){var n=this,r=setTimeout(Q((function(){var e,r=t.reason;"[object Error]"===Object.prototype.toString.call(r)?t.message=r.toString():t.message=(e=r)&&"object"===T(e)?JSON.stringify(e):e+"",t.name="unhandledrejection",t._type="error";var o=$t(t);n.setState(N(N({},n.state),o)),n.$handleCollect()})),500);V("rejectionhandled",Q((function(t,n){e===n&&(r&&clearTimeout(r),r=null)})))}},{key:"debug",value:function(t,e){this.setState(N(N({},this.state),$t({name:t,message:e,timeStamp:st(),type:"customError"}))),this.$handleCollect()}}]),n}());window.Edith=Bt;export{Bt as E,N as _,L as a,V as b,q as c,et as d,Rt as e,nt as f,Y as g,Z as h,tt as i,st as j,P as k,z as l,X as m,ot as n,J as o,H as p,B as q,G as t};
